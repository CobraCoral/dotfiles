#  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà     ‚ñà‚ñà ‚ñà‚ñà     ‚ñà‚ñà
# ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñà‚ñà‚ñë‚ñë‚ñë ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà   ‚ñà‚ñà‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà   ‚ñà‚ñà
#     ‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà ‚ñà‚ñà ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà ‚ñë‚ñë‚ñà‚ñà ‚ñà‚ñà
#     ‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà ‚ñë‚ñë‚ñà‚ñà‚ñà  ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà  ‚ñë‚ñë‚ñà‚ñà‚ñà
#     ‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà  ‚ñë‚ñë‚ñà   ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà   ‚ñà‚ñà‚ñë‚ñà‚ñà
#     ‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà   ‚ñë    ‚ñë‚ñà‚ñà‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà  ‚ñà‚ñà ‚ñë‚ñë‚ñà‚ñà
#     ‚ñë‚ñà‚ñà    ‚ñë‚ñà‚ñà        ‚ñë‚ñà‚ñà‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà   ‚ñë‚ñë‚ñà‚ñà
#     ‚ñë‚ñë     ‚ñë‚ñë         ‚ñë‚ñë  ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë  ‚ñë‚ñë     ‚ñë‚ñë
#
#  ‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
# ‚ñë‚ñì author ‚ñì cobracoral <cobracoral@cobralinux.info>
# ‚ñë‚ñì code   ‚ñì https://gist.github.com/cobracoral
# ‚ñë‚ñì mirror ‚ñì http://
# ‚ñë‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì‚ñì
# ‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë
#

################
## .tmux.conf ##
unbind C-b
set -g prefix C-a
bind r source-file ~/.tmux.conf \; display-message "Config reloaded."

source "/usr/local/lib/python2.7/dist-packages/powerline_status-2.7.dev9999+git.b0ea99430c00713279f7e3c37aa6c63a85b68ad5-py2.7.egg/powerline/bindings/tmux/powerline.conf"

# generalized startup stuff
#-----------------------------------------------
#set -g default-command bash 
# ÔºÅÔºÅÔºÅimportentÔºÅÔºÅÔºÅ 24 bit color
##set -g default-terminal "tmux-256color"
set -g default-terminal xterm-256color
set -ga terminal-overrides ",*256col*:Tc"
set -g base-index 1    
set -g default-command "${SHELL}"

# Mouse (tmux >= 2.1)
#-------------------------------------------------

# Allows scrolling and selecting in copy-mode
# pleb mode
#set -g mouse-utf8 on
set -g  mouse on
#set -ag terminal-overrides ',xterm*:smcup@:rmcup@'
#set -ag terminal-override ',rxvt-uni*:XT:Ms=\E]52;%p1%s;%p2%s\007'
 set -ag terminal-overrides ",st-*:Tc"
#set -ag terminal-overrides ",xterm-termite:Tc"
set -g history-limit 30000

# Enable mouse copy-mode scrolling
bind-key -T root WheelUpPane   if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; copy-mode -e; send-keys -M"
bind-key -T root WheelDownPane if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; send-keys -M"

# Enable fast scrolling with Ctrl
bind-key -T root C-WheelUpPane if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; copy-mode -e; send-keys -M"
#bind-key -T root C-WheelDownPane if-shell -F -t = "#{alternate_on}" "send-keys -M" "select-pane -t =; copy-mode -e; send-keys -M"
#bind-key -t vi-copy C-WheelUpPane   halfpage-up
#bind-key -t vi-copy C-WheelDownPane halfpage-down

# Make mouse-drag work only with Ctrl
#unbind -T root MouseDrag1Pane
#unbind -t vi-copy MouseDrag1Pane
#bind-key -n C-MouseDrag1Pane if -Ft= '#{mouse_any_flag}' 'if -Ft= \"#{pane_in_mode}\" \"copy-mode -M\" \"send-keys -M\"' 'copy-mode -M'
#bind-key -t vi-copy C-MouseDrag1Pane begin-selection

# Toggle mouse on/off
#bind-key m set-option -g mouse on \; display 'Mouse: ON'
#bind-key M set-option -g mouse off \; display 'Mouse: OFF'
 
# Look & Feel
#-----------------------------------------------

# Statusbar properties
set -g display-time 5000
set -g status-bg default
set -g status-fg black
#set -g window-status-current-format "#[bg=blue,fg=black] Session #S ‚ùÆ|:#W|#h:#T|‚ùØ "

# pane divider color; non active pane
set -g pane-border-fg default
set -g pane-border-bg default

 # pane divider color; active pane
# helps when you have more than two panes.
set -g pane-active-border-fg colour38	
set -g pane-active-border-bg default
   

# window notifications; display activity on other window
set -g monitor-activity on
set -g visual-activity on

# statusbar colors
set -g status-fg white
set -g status-bg default
set -g status-attr default
 
# window title colors; non active
set -g window-status-fg colour166
set -g window-status-bg default
set -g window-status-attr dim
 
# window title colors; active
set -g window-status-current-fg colour38
set -g window-status-current-bg default
#set -g window-status-current-attr bright
    
# urlscan as context and url view
bind-key u capture-pane \; save-buffer /tmp/tmux-buffer \; \
new-window -n "urlscan" '$SHELL -c "urlscan  < /tmp/tmux-buffer"'
  
# urlview as context and url view
bind-key U capture-pane \; save-buffer /tmp/tmux-buffer \; \
new-window -n "urlview" '$SHELL -c "urlview  < /tmp/tmux-buffer"'

  
# Titles
set -g set-titles on
#set -g set-titles-string "#T"
set -g status-justify centre
set -g automatic-rename on

#tmux messages
set -g message-bg default
set -g message-fg yellow

#statusbar & external scripts
#-----------------------------------------------------
set -g status on
set -g status-interval 10
#set status-style "bg=black"
set -g status-left-length 150
set -g status-right-length 180

## **************** STATUS STYLE *******************
##set -g @palenight_tmux_show_status_content "
## https://linux.die.net/man/2/tmux
#set -g status-left "#[fg=#292D3E,bg=#ffcb6b,bold] #I #[fg=#ffcb6b,bg=default,nobold,noitalics,nounderscore]ÓÇ∞"
#set -g status-right "#{prefix_highlight}#[fg=#3E4452,bg=black,nobold,noitalics,nounderscore]ÓÇ≤#[fg=colour49,bg=#3E4452]#{net_speed}#[fg=#d0d0d0,bg=#3E4452] ÓÇ≥#[fg=#d0d0d0,bg=#3E4452] #{sysstat_cpu}#[fg=#d0d0d0,bg=#3E4452] ÓÇ≥#[fg=#d0d0d0,bg=#3E4452] #{sysstat_mem}#[fg=#d0d0d0,bg=#3E4452] ÓÇ≥#[fg=#C792EA,bg=#3E4452] %Y-%m-%d #[fg=#d0d0d0,bg=#3E4452,nobold,noitalics,nounderscore]ÓÇ≥#[fg=#C792EA,bg=#3E4452] %H:%M #[fg=#c3e88d,bg=#3E4452,nobold,noitalics,nounderscore]ÓÇ≤#[fg=black,bg=#c3e88d,bold] ‚ò† ü•ã #H "
#set -g window-status-format "#[fg=colour235,bg=#3E4452,nobold,noitalics,nounderscore]ÓÇ∞ #[fg=#c792ea,bg=#3E4452]#I #[fg=#c792ea,bg=#3E4452,nobold,noitalics,nounderscore]ÓÇ± #[fg=#c792ea,bg=#3E4452]#W #F #[fg=#3E4452,bg=default,nobold,noitalics,nounderscore]ÓÇ∞"
#set -g window-status-current-format "#[fg=colour235,bg=#c792ea,nobold,noitalics,nounderscore]ÓÇ∞ #[fg=#292D3E,bg=#c792ea]#I #[fg=#292D3E,bg=#c792ea,nobold,noitalics,nounderscore]ÓÇ± #[fg=#292D3E,bg=#c792ea]#W #F #[fg=#c792ea,bg=default,nobold,noitalics,nounderscore]ÓÇ∞"
#set -g window-status-separator ""
#set -g monitor-activity off
#set -g @sysstat_mem_color_low "#c3e88d"
#set -g @sysstat_cpu_color_low "#c3e88d"


# List of plugins
#-----------------------------------------------------
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-copycat'
set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-net-speed'
set -g @plugin 'samoshkin/tmux-plugin-sysstat'
set -g @plugin 'sainnhe/tmux-fzf'

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

run-shell "/usr/local/bin/powerline-daemon -q"`
run-shell ~/work/dotfiles/.tmux/plugins/tmux-open/open.tmux
run-shell ~/work/dotfiles/.tmux/plugins/tmux-copycat/copycat.tmux
run-shell ~/work/dotfiles/.tmux/plugins/tmux-sensible/sensible.tmux
run-shell ~/work/dotfiles/.tmux/plugins/tmux-continuum/continuum.tmux
run-shell ~/work/dotfiles/.tmux/plugins/tmux-yank/yank.tmux

# Always start TMUX again
set -g @continuum-boot 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'

# TMUX FZF key binding
set -g @tmux-fzf-launch-key 'C-f'

TMUX_FZF_PANE_FORMAT="[#{window_name}] #{pane_current_command}  [#{pane_width}x#{pane_height}] [history #{history_size}/#{history_limit}, #{history_bytes} bytes] #{?pane_active,[active],[inactive]}"

